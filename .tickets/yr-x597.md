---
id: yr-x597
status: open
deps: [yr-2w58, yr-4k55, yr-fcvl, yr-s5tm]
links: []
created: 2026-02-21T20:25:05Z
type: task
priority: -1
assignee: Gennady Evstratov
---
# Write integration tests for Storage Backend and Task Engine

Create integration tests that verify Storage Backend and Task Engine work together correctly.

## Description
Following TDD, write integration tests before connecting components in the agent loop.

## Acceptance Criteria
- Given GitHub backend with Epic #52, when TaskTree fetched and graph built, only 8 sub-tasks in graph
- Given complex task hierarchy, when full workflow executed, tasks processed in dependency order
- Given concurrent task execution, when statuses updated, graph reflects changes correctly
- Given external status change (via GitHub UI), when tree refreshed, graph picks up new state
- Given 50 tasks with dependencies, when end-to-end test runs, completes successfully

## TDD Protocol
- Write failing integration tests first
- Use mock storage for fast tests
- Add real GitHub integration tests (optional, behind flag)
- Tests verify end-to-end workflow

## Dependencies
- Depends on: yr-2w58
- Depends on: yr-4k55
- Depends on: yr-fcvl
- Depends on: yr-s5tm

## Links
- Epic: yr-abz7

