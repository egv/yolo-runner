{"id":"yolo-runner-127","title":"Roadmap","description":"Top-level roadmap for yolo-runner versions. Keeps v1/v2/v3 work separated via parent-child structure.","acceptance_criteria":"- Roadmap contains child epics for v1, v2, v3\n- Running bd ready --parent \u003croadmap\u003e shows next version work in order","status":"open","priority":0,"issue_type":"epic","owner":"g.evstratov@gmail.com","created_at":"2026-01-18T21:57:33.902592+03:00","created_by":"Gennady Evstratov","updated_at":"2026-01-18T21:57:33.902592+03:00"}
{"id":"yolo-runner-127.1","title":"v1.1: Runner supports beads molecules","description":"Enhance the Python runner (and later the Go runner) to treat beads molecules as container nodes, so task trees can be epic -\u003e molecule -\u003e task.","acceptance_criteria":"- Given a root epic with child molecules, when selecting the next open leaf task, then molecules are traversed the same as epics\n- Given mixed epic/molecule containers, when selecting, then priority ordering is still respected\n- Given unit tests for selection, when run, then they cover epic-\u003emolecule-\u003etask recursion\n- Running the Python runner against v1-shaped trees still works","status":"open","priority":2,"issue_type":"epic","owner":"g.evstratov@gmail.com","created_at":"2026-01-18T23:31:02.344149+03:00","created_by":"Gennady Evstratov","updated_at":"2026-01-18T23:31:02.344149+03:00","dependencies":[{"issue_id":"yolo-runner-127.1","depends_on_id":"yolo-runner-127","type":"parent-child","created_at":"2026-01-18T23:31:02.34471+03:00","created_by":"Gennady Evstratov"}]}
{"id":"yolo-runner-127.1.1","title":"v1.1: Selection recurses into molecules","description":"Update Python runner selection logic so issue_type==molecule is treated like issue_type==epic for recursion.","acceptance_criteria":"- Given a root epic whose first open leaf task is under a molecule, when selecting, then it returns the correct task id\n- Given both epic and molecule containers exist, when selecting, then both are traversed\n- Given a molecule has no children, when selecting, then it is skipped\n- Add tests that fail before the change and pass after","status":"open","priority":1,"issue_type":"task","owner":"g.evstratov@gmail.com","created_at":"2026-01-18T23:31:08.240732+03:00","created_by":"Gennady Evstratov","updated_at":"2026-01-18T23:31:08.240732+03:00","dependencies":[{"issue_id":"yolo-runner-127.1.1","depends_on_id":"yolo-runner-127.1","type":"parent-child","created_at":"2026-01-18T23:31:08.241324+03:00","created_by":"Gennady Evstratov"}]}
{"id":"yolo-runner-127.1.2","title":"v1.1: Go runner selection supports molecules","description":"When Go runner selection is implemented, ensure it treats molecules as container nodes like epics.","acceptance_criteria":"- Given a beads tree with epic-\u003emolecule-\u003etask, when selecting in Go, then it returns the task id\n- Unit tests cover molecule recursion","status":"open","priority":2,"issue_type":"task","owner":"g.evstratov@gmail.com","created_at":"2026-01-18T23:31:10.652593+03:00","created_by":"Gennady Evstratov","updated_at":"2026-01-18T23:31:10.652593+03:00","dependencies":[{"issue_id":"yolo-runner-127.1.2","depends_on_id":"yolo-runner-127.1","type":"parent-child","created_at":"2026-01-18T23:31:10.653195+03:00","created_by":"Gennady Evstratov"}]}
{"id":"yolo-runner-6tt","title":"v3: Pluggable VCS","description":"Third iteration: decouple runner from git.\\n\\n- VCS interface for add/status/commit/rev-parse operations\\n- Git adapter implements VCS interface\\n- Keep behavior parity with v1\\n\\nNon-goals: changing default VCS (still git by default).","acceptance_criteria":"- Given v2 is complete, when v3 lands, then runner core depends only on a VCS interface (no direct git exec)\n- Given the Git adapter, when wired in, then behavior matches v1 git operations\n- Given `go test ./...`, when run, then all tests pass","status":"open","priority":4,"issue_type":"epic","owner":"g.evstratov@gmail.com","created_at":"2026-01-18T21:38:57.907956+03:00","created_by":"Gennady Evstratov","updated_at":"2026-01-18T21:40:47.182867+03:00","dependencies":[{"issue_id":"yolo-runner-6tt","depends_on_id":"yolo-runner-127","type":"parent-child","created_at":"2026-01-18T21:57:38.707707+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-6tt","depends_on_id":"yolo-runner-7ld","type":"blocks","created_at":"2026-01-18T21:57:43.412265+03:00","created_by":"Gennady Evstratov"}]}
{"id":"yolo-runner-6tt.1","title":"v3: Define VCS interface","description":"Define a VCS interface (add/status/commit/rev-parse) consumed by runner core.","acceptance_criteria":"- Given v1 runner needs, when defining VCS interface, then it covers add-all, status-porcelain dirty check, commit with message, and rev-parse HEAD\n- Given runner core, when refactored, then it imports only the VCS interface","status":"open","priority":2,"issue_type":"task","owner":"g.evstratov@gmail.com","created_at":"2026-01-18T21:39:41.330328+03:00","created_by":"Gennady Evstratov","updated_at":"2026-01-18T21:40:47.239631+03:00","dependencies":[{"issue_id":"yolo-runner-6tt.1","depends_on_id":"yolo-runner-6tt","type":"parent-child","created_at":"2026-01-18T21:39:41.33083+03:00","created_by":"Gennady Evstratov"}]}
{"id":"yolo-runner-6tt.2","title":"v3: Git adapter implements VCS","description":"Implement git-backed adapter that satisfies the VCS interface.","acceptance_criteria":"- Given a Git repository, when calling the Git adapter methods, then they run the equivalent git CLI commands used in v1\n- Given unit tests, when run, then they cover dirty detection and commit command construction","status":"open","priority":3,"issue_type":"task","owner":"g.evstratov@gmail.com","created_at":"2026-01-18T21:39:42.539787+03:00","created_by":"Gennady Evstratov","updated_at":"2026-01-18T21:40:47.326316+03:00","dependencies":[{"issue_id":"yolo-runner-6tt.2","depends_on_id":"yolo-runner-6tt","type":"parent-child","created_at":"2026-01-18T21:39:42.540323+03:00","created_by":"Gennady Evstratov"}]}
{"id":"yolo-runner-6tt.3","title":"v3: Runner uses VCS interface","description":"Refactor runner orchestration to call VCS interface rather than git adapter directly.","acceptance_criteria":"- Given a fake VCS implementation, when runner core is tested, then it can simulate dirty/clean states and assert correct sequencing\n- Given the codebase, when searching runner core packages, then there are no direct `git` command invocations","status":"open","priority":3,"issue_type":"task","owner":"g.evstratov@gmail.com","created_at":"2026-01-18T21:39:44.352994+03:00","created_by":"Gennady Evstratov","updated_at":"2026-01-18T21:40:47.383897+03:00","dependencies":[{"issue_id":"yolo-runner-6tt.3","depends_on_id":"yolo-runner-6tt","type":"parent-child","created_at":"2026-01-18T21:39:44.353506+03:00","created_by":"Gennady Evstratov"}]}
{"id":"yolo-runner-7ld","title":"v2: Pluggable task tracker + coding agent + progress web UI","description":"Second iteration: decouple the runner core from specific integrations.\\n\\n- Task tracker abstraction (Beads becomes an adapter)\\n- Coding agent abstraction (OpenCode becomes an adapter)\\n- Add a webserver to display current progress, current task, recent events/logs\\n\\nNon-goals: VCS abstraction.","acceptance_criteria":"- Given v1 runner behavior, when v2 refactor lands, then core runner code depends only on TaskTracker + CodingAgent interfaces (no direct bd/opencode exec)\n- Given Beads and OpenCode adapters, when wired into the runner, then behavior matches v1 (task selection, status transitions, logging, and end-to-end flow)\n- Given the web UI is running, when I open it in a browser, then it shows state, active issue (if any), and recent events\n- Given the codebase, when I run `go test ./...`, then all tests pass","status":"open","priority":3,"issue_type":"epic","owner":"g.evstratov@gmail.com","created_at":"2026-01-18T21:38:55.911716+03:00","created_by":"Gennady Evstratov","updated_at":"2026-01-18T21:40:46.895663+03:00","dependencies":[{"issue_id":"yolo-runner-7ld","depends_on_id":"yolo-runner-127","type":"parent-child","created_at":"2026-01-18T21:57:38.648431+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-7ld","depends_on_id":"yolo-runner-r5w","type":"blocks","created_at":"2026-01-18T21:57:43.34903+03:00","created_by":"Gennady Evstratov"}]}
{"id":"yolo-runner-7ld.1","title":"v2: Define core interfaces","description":"Define interfaces for TaskTracker and CodingAgent so runner core stops depending directly on bd/opencode.","acceptance_criteria":"- Given the v1 runner features, when defining `TaskTracker` and `CodingAgent`, then the interfaces cover every capability v1 uses (select leaf task, show issue fields, update status, close issue, sync; run agent and capture logs)\n- Given the runner core package, when building, then it imports only these interfaces (no direct `bd` or `opencode` command construction)\n- Given `go test ./...`, when run, then tests validate the interface-driven wiring with fakes","status":"open","priority":1,"issue_type":"task","owner":"g.evstratov@gmail.com","created_at":"2026-01-18T21:39:37.386509+03:00","created_by":"Gennady Evstratov","updated_at":"2026-01-18T21:40:46.953408+03:00","dependencies":[{"issue_id":"yolo-runner-7ld.1","depends_on_id":"yolo-runner-7ld","type":"parent-child","created_at":"2026-01-18T21:39:37.387115+03:00","created_by":"Gennady Evstratov"}]}
{"id":"yolo-runner-7ld.2","title":"v2: Beads adapter implements TaskTracker","description":"Implement Beads-backed TaskTracker using bd CLI (or direct API later), matching v1 behavior.","acceptance_criteria":"- Given a Beads-backed repository, when TaskTracker.SelectNextLeafTask(root) is called, then it returns the same leaf selection as `bd ready --parent \u003croot\u003e --json` recursion in v1\n- Given a bead id, when TaskTracker.GetIssue(id) is called, then it returns title, description, and acceptance criteria as used in the prompt\n- Given a bead id and status, when TaskTracker.UpdateStatus is called, then it runs the equivalent `bd update \u003cid\u003e --status \u003cstatus\u003e`\n- Given a bead id, when TaskTracker.Close is called, then it runs `bd close \u003cid\u003e` and verifies closed via `bd show`\n- Given unit tests, when run, then they cover JSON parsing, empty/invalid outputs, and command errors","status":"open","priority":2,"issue_type":"task","owner":"g.evstratov@gmail.com","created_at":"2026-01-18T21:39:38.071258+03:00","created_by":"Gennady Evstratov","updated_at":"2026-01-18T21:40:47.012123+03:00","dependencies":[{"issue_id":"yolo-runner-7ld.2","depends_on_id":"yolo-runner-7ld","type":"parent-child","created_at":"2026-01-18T21:39:38.071798+03:00","created_by":"Gennady Evstratov"}]}
{"id":"yolo-runner-7ld.3","title":"v2: OpenCode adapter implements CodingAgent","description":"Implement OpenCode-backed CodingAgent using opencode CLI, including model forwarding and non-interactive env.","acceptance_criteria":"- Given a repo root and prompt, when CodingAgent.Run(prompt, model) is called, then it shells out to OpenCode with `--agent yolo --format json` and optional `--model \u003cid\u003e`\n- Given a log output path, when Run is called, then stdout is captured to that path (overwriting per run)\n- Given non-interactive requirements, when Run is called, then it sets the same env vars as v1 (CI=true and OPENCODE_DISABLE_* flags)\n- Given unit tests, when run, then they verify command args and env construction","status":"open","priority":2,"issue_type":"task","owner":"g.evstratov@gmail.com","created_at":"2026-01-18T21:39:39.108046+03:00","created_by":"Gennady Evstratov","updated_at":"2026-01-18T21:40:47.069101+03:00","dependencies":[{"issue_id":"yolo-runner-7ld.3","depends_on_id":"yolo-runner-7ld","type":"parent-child","created_at":"2026-01-18T21:39:39.108599+03:00","created_by":"Gennady Evstratov"}]}
{"id":"yolo-runner-7ld.4","title":"v2: Add progress web server","description":"Run an embedded HTTP server that serves a simple status page (and/or JSON endpoints) showing runner progress, current task, and recent events.","acceptance_criteria":"- Given the runner process is running, when I request `GET /api/status`, then it returns JSON with at least: state, active_issue_id, active_issue_title, completed_count, last_error (nullable)\n- Given the runner process is running, when I request `GET /`, then it renders an HTML page showing: current state, active issue, and the last N runner events\n- Given no auth is configured, when the server is started, then it binds only to localhost by default (v2 local-only)\n- Given `go test ./...`, when run, then web server handlers are covered by unit tests","status":"open","priority":3,"issue_type":"task","owner":"g.evstratov@gmail.com","created_at":"2026-01-18T21:39:40.550579+03:00","created_by":"Gennady Evstratov","updated_at":"2026-01-18T21:40:47.125955+03:00","dependencies":[{"issue_id":"yolo-runner-7ld.4","depends_on_id":"yolo-runner-7ld","type":"parent-child","created_at":"2026-01-18T21:39:40.551116+03:00","created_by":"Gennady Evstratov"}]}
{"id":"yolo-runner-r5w","title":"v1: Go standalone runner","description":"Port current Python beads YOLO runner to Go and ship as a single standalone binary.\\n\\nIncludes: bd integration via CLI, opencode integration via CLI, git integration via CLI, prompt builder, logging, and basic docs/build.\\n\\nNon-goals: abstraction layers for task tracker/coding agent/VCS; web UI.","acceptance_criteria":"- Given a repo with bd + opencode installed, when I run `go test ./...`, then tests pass\n- Given a repo with Go installed, when I run `go build -o bin/yolo-runner ./cmd/yolo-runner`, then a runnable binary is produced\n- Given a configured repo, when I run `bin/yolo-runner --dry-run --repo . --root \u003cid\u003e`, then it prints the selected bead id/title and the exact OpenCode command it would run\n- Given an open leaf bead task, when I run the runner in real mode, then it sets status=in_progress, runs OpenCode, commits any changes, closes the bead, verifies it is closed, and runs `bd sync`\n- Given OpenCode produces no git changes, when the runner completes, then it updates the bead to status=blocked and writes a blocked entry to runner logs","status":"open","priority":1,"issue_type":"epic","owner":"g.evstratov@gmail.com","created_at":"2026-01-18T21:38:24.337708+03:00","created_by":"Gennady Evstratov","updated_at":"2026-01-18T21:40:46.839667+03:00","dependencies":[{"issue_id":"yolo-runner-r5w","depends_on_id":"yolo-runner-127","type":"parent-child","created_at":"2026-01-18T21:57:38.588336+03:00","created_by":"Gennady Evstratov"}]}
{"id":"yolo-runner-r5w.1","title":"v1: Mirror YOLO agent into .opencode/agent","description":"Install YOLO agent per-project so opencode can resolve --agent yolo.\n\nFiles:\n- Create: .opencode/agent/yolo.md (copy from yolo.md)\n\nRules:\n- No system-wide install\n\nAcceptance:\n- From repo root, `opencode run \"ping\" --agent yolo --format json .` does not print agent-not-found\n- .opencode/agent/yolo.md is tracked in git","acceptance_criteria":"- Given the repo has yolo.md, when I create .opencode/agents/yolo.md from it, then the file exists\n- Given both files exist, when I compare them, then .opencode/agents/yolo.md content matches yolo.md\n- Given the project directory, when I run `opencode run \"ping\" --agent yolo --format json \u003cproject\u003e`, then it does NOT print \"agent \"yolo\" not found\" (agent is resolved)\n- Given git status, then .opencode/agents/yolo.md is tracked","status":"closed","priority":0,"issue_type":"task","owner":"g.evstratov@gmail.com","created_at":"2026-01-18T21:45:23.957149+03:00","created_by":"Gennady Evstratov","updated_at":"2026-01-19T03:05:28.549281+03:00","closed_at":"2026-01-18T23:30:30.64448+03:00","close_reason":"Closed","dependencies":[{"issue_id":"yolo-runner-r5w.1","depends_on_id":"yolo-runner-r5w.14","type":"parent-child","created_at":"2026-01-18T21:53:47.710364+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-r5w.1","depends_on_id":"yolo-runner-r5w","type":"parent-child","created_at":"2026-01-18T23:30:38.559587+03:00","created_by":"Gennady Evstratov"}]}
{"id":"yolo-runner-r5w.10","title":"v1: Build artifacts + docs","description":"Add build artifacts and docs for the Go runner.\n\nFiles:\n- Create: Makefile\n- Modify: README.md\n\nRules:\n- Must describe Go build and usage examples\n\nAcceptance:\n- make test runs go test ./...\n- make build builds bin/yolo-runner\n- README documents prerequisites (bd/opencode/git/uv) and example invocations including --model and --dry-run","acceptance_criteria":"- Given Makefile, when running `make test`, then it runs `go test ./...`\n- Given Makefile, when running `make build`, then it builds `bin/yolo-runner`\n- Given README, when reading, then it documents prerequisites (bd/opencode/git) and example commands\n- Given CI-like environment, when running build/test, then commands succeed","status":"in_progress","priority":3,"issue_type":"task","owner":"g.evstratov@gmail.com","created_at":"2026-01-18T21:46:49.745229+03:00","created_by":"Gennady Evstratov","updated_at":"2026-01-19T03:53:36.190014+03:00","dependencies":[{"issue_id":"yolo-runner-r5w.10","depends_on_id":"yolo-runner-r5w.2","type":"blocks","created_at":"2026-01-18T21:50:16.959338+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-r5w.10","depends_on_id":"yolo-runner-r5w.7","type":"blocks","created_at":"2026-01-18T21:50:17.022774+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-r5w.10","depends_on_id":"yolo-runner-r5w.18","type":"parent-child","created_at":"2026-01-18T21:53:48.371544+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-r5w.10","depends_on_id":"yolo-runner-r5w","type":"parent-child","created_at":"2026-01-18T23:30:39.127051+03:00","created_by":"Gennady Evstratov"}]}
{"id":"yolo-runner-r5w.11","title":"v1: End-to-end smoke test instructions","description":"Document a safe manual smoke test for the Go runner.\n\nFiles:\n- Modify: README.md\n\nRules:\n- No code changes required\n\nAcceptance:\n- Includes steps to run on a throwaway branch\n- Includes expected log locations\n- Includes what success looks like","acceptance_criteria":"- Given instructions, when followed, then a developer can validate run-once flow end-to-end\n- Instructions include safety notes: run on a throwaway branch/worktree, verify `bd ready` selection, and inspect resulting commit\n- Document expected log locations and what success looks like","status":"open","priority":3,"issue_type":"task","owner":"g.evstratov@gmail.com","created_at":"2026-01-18T21:46:52.573672+03:00","created_by":"Gennady Evstratov","updated_at":"2026-01-19T03:05:52.542354+03:00","dependencies":[{"issue_id":"yolo-runner-r5w.11","depends_on_id":"yolo-runner-r5w.7","type":"blocks","created_at":"2026-01-18T21:50:17.084728+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-r5w.11","depends_on_id":"yolo-runner-r5w.18","type":"parent-child","created_at":"2026-01-18T21:53:48.429563+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-r5w.11","depends_on_id":"yolo-runner-r5w","type":"parent-child","created_at":"2026-01-18T23:30:39.193955+03:00","created_by":"Gennady Evstratov"}]}
{"id":"yolo-runner-r5w.12","title":"v1: Command runner abstraction (exec wrapper + fakes)","description":"Introduce a small Go command execution abstraction so unit tests never call real bd/opencode/git.\n\nFiles:\n- Create: internal/execx/execx.go\n- Create: internal/execx/fake.go\n- Create: internal/execx/execx_test.go\n\nRules:\n- This task must be implemented in Go\n- Do not add new Python files\n\nAcceptance:\n- Fake runner records commands (name + args) in call order\n- Fake runner can be scripted to return stdout for a specific (name,args)\n- Unscripted Output calls fail with a clear missing-stub error\n- go test ./... passes","acceptance_criteria":"- FakeRunner records commands (name + args) in call order\n- FakeRunner can be scripted to return stdout bytes for a specific (name,args)\n- Unscripted Output calls fail with a clear missing-stub error\n- go test ./... covers record + scripted output + missing-stub cases","status":"closed","priority":0,"issue_type":"task","owner":"g.evstratov@gmail.com","created_at":"2026-01-18T21:49:22.32158+03:00","created_by":"Gennady Evstratov","updated_at":"2026-01-19T03:04:56.402251+03:00","closed_at":"2026-01-18T23:26:23.447905+03:00","close_reason":"Closed","dependencies":[{"issue_id":"yolo-runner-r5w.12","depends_on_id":"yolo-runner-r5w.14","type":"parent-child","created_at":"2026-01-18T21:53:47.829744+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-r5w.12","depends_on_id":"yolo-runner-r5w","type":"parent-child","created_at":"2026-01-18T23:30:39.256707+03:00","created_by":"Gennady Evstratov"}]}
{"id":"yolo-runner-r5w.13","title":"v1: OpenCode CLI adapter (with --model)","description":"Implement the OpenCode adapter for the Go runner. This must be Go code.\n\nFiles:\n- Create: internal/opencode/client.go\n- Create: internal/opencode/client_test.go\n\nRules:\n- Hardcode agent name `yolo`\n- Do not add any new Python files\n\nAcceptance:\n- When model is empty, command args do not include --model\n- When model is set, args include --model \u003cid\u003e\n- Env includes CI=true and OPENCODE_DISABLE_* flags\n- Writes stdout to runner-logs/opencode/\u003cissue\u003e.jsonl (overwrite)\n- go test ./... passes","acceptance_criteria":"- If model is empty, command args do not include --model\n- If model is set, command args include --model \u003cid\u003e\n- Run sets env vars: CI=true and OPENCODE_DISABLE_* flags matching Python runner\n- Run ensures config dir exists and opencode.json exists\n- Run writes stdout to the provided log path (overwrite)\n- Unit tests validate args and env construction","status":"closed","priority":1,"issue_type":"task","owner":"g.evstratov@gmail.com","created_at":"2026-01-18T21:49:22.384868+03:00","created_by":"Gennady Evstratov","updated_at":"2026-01-19T03:28:29.784778+03:00","closed_at":"2026-01-19T03:28:29.784778+03:00","close_reason":"Closed","dependencies":[{"issue_id":"yolo-runner-r5w.13","depends_on_id":"yolo-runner-r5w.12","type":"blocks","created_at":"2026-01-18T21:50:16.452107+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-r5w.13","depends_on_id":"yolo-runner-r5w.15","type":"parent-child","created_at":"2026-01-18T21:53:47.951279+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-r5w.13","depends_on_id":"yolo-runner-r5w","type":"parent-child","created_at":"2026-01-18T23:30:39.317221+03:00","created_by":"Gennady Evstratov"}]}
{"id":"yolo-runner-r5w.14","title":"v1: Foundation (agent + module + test harness)","description":"Bootstrap prerequisites so subsequent v1 tasks can be implemented with strict unit tests and deterministic OpenCode behavior.","acceptance_criteria":"- All foundation tasks are closed\n- After completion, `bd ready --parent yolo-runner-r5w` surfaces build-block tasks next","status":"closed","priority":0,"issue_type":"molecule","owner":"g.evstratov@gmail.com","created_at":"2026-01-18T21:53:40.402699+03:00","created_by":"Gennady Evstratov","updated_at":"2026-01-18T23:30:52.192697+03:00","closed_at":"2026-01-18T23:30:52.192698+03:00","dependencies":[{"issue_id":"yolo-runner-r5w.14","depends_on_id":"yolo-runner-r5w","type":"parent-child","created_at":"2026-01-18T21:53:40.404432+03:00","created_by":"Gennady Evstratov"}]}
{"id":"yolo-runner-r5w.15","title":"v1: Adapters (bd/opencode/git)","description":"Implement the three integration adapters (Beads via bd CLI, OpenCode via opencode CLI, Git via git CLI).","acceptance_criteria":"- All adapter tasks are closed\n- Unit tests cover command construction + parsing","status":"closed","priority":1,"issue_type":"molecule","owner":"g.evstratov@gmail.com","created_at":"2026-01-18T21:53:40.463476+03:00","created_by":"Gennady Evstratov","updated_at":"2026-01-18T23:30:52.253815+03:00","closed_at":"2026-01-18T23:30:52.253817+03:00","dependencies":[{"issue_id":"yolo-runner-r5w.15","depends_on_id":"yolo-runner-r5w","type":"parent-child","created_at":"2026-01-18T21:53:40.464059+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-r5w.15","depends_on_id":"yolo-runner-r5w.14","type":"blocks","created_at":"2026-01-18T21:53:53.547913+03:00","created_by":"Gennady Evstratov"}]}
{"id":"yolo-runner-r5w.16","title":"v1: Core runner (select/prompt/run-once)","description":"Implement orchestration logic to select tasks, build prompts, run OpenCode, commit/close/sync, and report status.","acceptance_criteria":"- RunOnce behavior matches Python\n- Dry-run works\n- Blocked vs completed paths covered by tests","status":"closed","priority":1,"issue_type":"molecule","owner":"g.evstratov@gmail.com","created_at":"2026-01-18T21:53:40.522809+03:00","created_by":"Gennady Evstratov","updated_at":"2026-01-18T23:30:52.312423+03:00","closed_at":"2026-01-18T23:30:52.312425+03:00","dependencies":[{"issue_id":"yolo-runner-r5w.16","depends_on_id":"yolo-runner-r5w","type":"parent-child","created_at":"2026-01-18T21:53:40.523335+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-r5w.16","depends_on_id":"yolo-runner-r5w.15","type":"blocks","created_at":"2026-01-18T21:53:53.610081+03:00","created_by":"Gennady Evstratov"}]}
{"id":"yolo-runner-r5w.17","title":"v1: Loop + Logging","description":"Finish remaining runtime features: RunLoop/max and JSONL logging parity.","acceptance_criteria":"- Loop stops correctly\n- Logs written in correct locations and formats","status":"closed","priority":2,"issue_type":"molecule","owner":"g.evstratov@gmail.com","created_at":"2026-01-18T21:53:40.583354+03:00","created_by":"Gennady Evstratov","updated_at":"2026-01-18T23:30:52.371019+03:00","closed_at":"2026-01-18T23:30:52.371021+03:00","dependencies":[{"issue_id":"yolo-runner-r5w.17","depends_on_id":"yolo-runner-r5w","type":"parent-child","created_at":"2026-01-18T21:53:40.583877+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-r5w.17","depends_on_id":"yolo-runner-r5w.16","type":"blocks","created_at":"2026-01-18T21:53:53.671307+03:00","created_by":"Gennady Evstratov"}]}
{"id":"yolo-runner-r5w.18","title":"v1: Docs + Build","description":"Make the project usable: Makefile/build outputs, README updates, and manual smoke test procedure.","acceptance_criteria":"- make test/build targets exist\n- README includes usage + prerequisites\n- smoke test steps documented","status":"closed","priority":3,"issue_type":"molecule","owner":"g.evstratov@gmail.com","created_at":"2026-01-18T21:53:40.642063+03:00","created_by":"Gennady Evstratov","updated_at":"2026-01-18T23:30:52.429918+03:00","closed_at":"2026-01-18T23:30:52.42992+03:00","dependencies":[{"issue_id":"yolo-runner-r5w.18","depends_on_id":"yolo-runner-r5w","type":"parent-child","created_at":"2026-01-18T21:53:40.642574+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-r5w.18","depends_on_id":"yolo-runner-r5w.17","type":"blocks","created_at":"2026-01-18T21:53:53.734034+03:00","created_by":"Gennady Evstratov"}]}
{"id":"yolo-runner-r5w.2","title":"v1: Initialize Go module + CLI flags","description":"Create Go module and a minimal yolo-runner CLI that parses flags with correct defaults.\n\nFiles:\n- Create/Modify: go.mod\n- Create: cmd/yolo-runner/main.go\n- Create: cmd/yolo-runner/main_test.go\n\nFlags:\n- --repo (default .)\n- --root (default algi-8bt)\n- --max (optional)\n- --dry-run\n- --model (optional)\n\nRules:\n- This task must be implemented in Go\n- Agent name is fixed to yolo (no --agent flag)\n\nAcceptance:\n- go test ./... passes\n- go build ./... succeeds\n- parseArgs defaults: repo=., root=algi-8bt, max=0/unset, dry_run=false, model=\"\"","acceptance_criteria":"- Given no flags, when running `yolo-runner --help`, then it documents flags: --repo, --root, --max, --dry-run, --model\n- Given args=[], when parseArgs runs, then defaults are repo=\".\", root=\"algi-8bt\", max=0 (or unset), dry_run=false, model=\"\"\n- Given `go test ./...`, when run, then it fails before implementation and passes after implementation\n- Given `go build ./...`, when run, then it succeeds","status":"closed","priority":0,"issue_type":"task","owner":"g.evstratov@gmail.com","created_at":"2026-01-18T21:46:18.490678+03:00","created_by":"Gennady Evstratov","updated_at":"2026-01-19T03:05:20.280115+03:00","closed_at":"2026-01-18T22:23:14.903191+03:00","close_reason":"Closed","dependencies":[{"issue_id":"yolo-runner-r5w.2","depends_on_id":"yolo-runner-r5w.14","type":"parent-child","created_at":"2026-01-18T21:53:47.769812+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-r5w.2","depends_on_id":"yolo-runner-r5w","type":"parent-child","created_at":"2026-01-18T23:30:38.620153+03:00","created_by":"Gennady Evstratov"}]}
{"id":"yolo-runner-r5w.3","title":"v1: Implement Beads CLI adapter","description":"Implement a Go adapter that shells out to bd for: selecting ready children, showing an issue, updating status, closing, syncing.\n\nFiles:\n- Create: internal/beads/client.go\n- Create: internal/beads/client_test.go\n\nRules:\n- This task must be implemented in Go\n- Do not add new Python files\n\nAcceptance:\n- Parse `bd show \u003cid\u003e --json` array and use element 0\n- Parse `bd ready --parent \u003cid\u003e --json` items for id/issue_type/status/priority\n- UpdateStatus runs `bd update \u003cid\u003e --status \u003cstatus\u003e`\n- Close runs `bd close \u003cid\u003e`\n- Sync runs `bd sync`\n- go test ./... passes","acceptance_criteria":"- Given canned JSON from `bd show \u003cid\u003e --json`, when adapter.Show(id) is called, then it returns id/title/description/acceptance_criteria correctly\n- Given canned JSON from `bd ready --parent \u003cid\u003e --json`, when adapter.ReadyChildren(parent) is called, then it returns items with id/issue_type/status/priority\n- Given adapter.UpdateStatus(id,status), then it executes `bd update \u003cid\u003e --status \u003cstatus\u003e`\n- Given adapter.Close(id), then it executes `bd close \u003cid\u003e`\n- Given adapter.Sync(), then it executes `bd sync`\n- Given unit tests, when run, then they validate JSON parsing and error handling for empty arrays/invalid JSON","status":"closed","priority":1,"issue_type":"task","owner":"g.evstratov@gmail.com","created_at":"2026-01-18T21:46:24.949108+03:00","created_by":"Gennady Evstratov","updated_at":"2026-01-19T03:05:02.699793+03:00","closed_at":"2026-01-18T23:34:00.288205+03:00","close_reason":"Closed","dependencies":[{"issue_id":"yolo-runner-r5w.3","depends_on_id":"yolo-runner-r5w.12","type":"blocks","created_at":"2026-01-18T21:50:16.126938+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-r5w.3","depends_on_id":"yolo-runner-r5w.15","type":"parent-child","created_at":"2026-01-18T21:53:47.890375+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-r5w.3","depends_on_id":"yolo-runner-r5w","type":"parent-child","created_at":"2026-01-18T23:30:38.679948+03:00","created_by":"Gennady Evstratov"}]}
{"id":"yolo-runner-r5w.4","title":"v1: Leaf task selection matches Python","description":"Implement leaf-task selection for the Go runner. This must be Go code.\n\nFiles:\n- Create: internal/runner/select.go\n- Create: internal/runner/select_test.go\n- Modify (only if needed): internal/beads/client.go\n\nRules:\n- Do not modify beads_yolo_runner.py\n- Do not add any new Python files\n\nAcceptance:\n- Given a root epic with nested epics, when SelectFirstOpenLeafTaskID is called, then it returns the first open leaf task id by priority\n- Given children with missing priority, then missing priority sorts after any numeric priority\n- Given non-open children, then they are skipped\n- go test ./... passes","acceptance_criteria":"- Given an epic tree where first open leaf is nested, when SelectFirstOpenLeafTaskID(root) is called, then it returns the correct task id\n- Given mixed priorities, when selecting among siblings, then lower numeric priority wins (missing priority sorts last)\n- Given non-open statuses, when selecting, then they are skipped\n- Given unit tests, when run, then they cover task leaf, epic recursion, empty children, and priority ordering","status":"closed","priority":0,"issue_type":"task","owner":"g.evstratov@gmail.com","created_at":"2026-01-18T21:46:27.82079+03:00","created_by":"Gennady Evstratov","updated_at":"2026-01-19T03:13:57.93647+03:00","closed_at":"2026-01-19T03:13:57.93647+03:00","close_reason":"Closed","dependencies":[{"issue_id":"yolo-runner-r5w.4","depends_on_id":"yolo-runner-r5w.3","type":"blocks","created_at":"2026-01-18T21:50:16.190185+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-r5w.4","depends_on_id":"yolo-runner-r5w.12","type":"blocks","created_at":"2026-01-18T21:50:16.25415+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-r5w.4","depends_on_id":"yolo-runner-r5w.16","type":"parent-child","created_at":"2026-01-18T21:53:48.071458+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-r5w.4","depends_on_id":"yolo-runner-r5w","type":"parent-child","created_at":"2026-01-18T23:30:38.739859+03:00","created_by":"Gennady Evstratov"}]}
{"id":"yolo-runner-r5w.5","title":"v1: Prompt builder parity","description":"Implement prompt construction in Go that matches the Python runner prompt format.\n\nFiles:\n- Create: internal/prompt/prompt.go\n- Create: internal/prompt/prompt_test.go\n\nRules:\n- This task must be implemented in Go\n- Do not add new Python files\n\nAcceptance:\n- Prompt includes task header, description section, acceptance section, and strict TDD rules block\n- Tests assert key substrings (avoid brittle full-string match)\n- go test ./... passes","acceptance_criteria":"- Given issue id/title/description/acceptance, when BuildPrompt is called, then output includes: task header line, description section, acceptance section, and strict TDD rules\n- Given unit tests, when run, then they assert key substrings (avoid brittle full-string match)","status":"closed","priority":1,"issue_type":"task","owner":"g.evstratov@gmail.com","created_at":"2026-01-18T21:46:30.049362+03:00","created_by":"Gennady Evstratov","updated_at":"2026-01-19T03:05:11.60622+03:00","closed_at":"2026-01-18T23:41:24.574029+03:00","close_reason":"Closed","dependencies":[{"issue_id":"yolo-runner-r5w.5","depends_on_id":"yolo-runner-r5w.12","type":"blocks","created_at":"2026-01-18T21:50:16.318695+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-r5w.5","depends_on_id":"yolo-runner-r5w.16","type":"parent-child","created_at":"2026-01-18T21:53:48.132465+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-r5w.5","depends_on_id":"yolo-runner-r5w","type":"parent-child","created_at":"2026-01-18T23:30:38.798479+03:00","created_by":"Gennady Evstratov"}]}
{"id":"yolo-runner-r5w.6","title":"v1: Git CLI adapter (v1-specific)","description":"Implement the Git adapter for the Go runner (git-specific for v1). This must be Go code.\n\nFiles:\n- Create: internal/vcs/git/git.go\n- Create: internal/vcs/git/git_test.go\n\nRules:\n- Do not add any new Python files\n\nAcceptance:\n- IsDirty uses `git status --porcelain` and returns true iff output is non-empty\n- AddAll runs `git add .`\n- Commit runs `git commit -m \u003cmsg\u003e`\n- RevParseHead runs `git rev-parse HEAD`\n- Unit tests validate command construction using a fake command runner\n- go test ./... passes","acceptance_criteria":"- Given porcelain output is empty, when IsDirty is called, then it returns false\n- Given porcelain output is non-empty, when IsDirty is called, then it returns true\n- Given Commit(msg) is called, then it runs `git commit -m \u003cmsg\u003e`\n- Given RevParseHead is called, then it runs `git rev-parse HEAD`\n- Given unit tests, when run, then they cover dirty/clean detection and error propagation","status":"closed","priority":1,"issue_type":"task","owner":"g.evstratov@gmail.com","created_at":"2026-01-18T21:46:37.162841+03:00","created_by":"Gennady Evstratov","updated_at":"2026-01-19T03:25:13.740067+03:00","closed_at":"2026-01-19T03:25:13.740067+03:00","close_reason":"Closed","dependencies":[{"issue_id":"yolo-runner-r5w.6","depends_on_id":"yolo-runner-r5w.12","type":"blocks","created_at":"2026-01-18T21:50:16.384767+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-r5w.6","depends_on_id":"yolo-runner-r5w.15","type":"parent-child","created_at":"2026-01-18T21:53:48.012476+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-r5w.6","depends_on_id":"yolo-runner-r5w","type":"parent-child","created_at":"2026-01-18T23:30:38.858327+03:00","created_by":"Gennady Evstratov"}]}
{"id":"yolo-runner-r5w.7","title":"v1: Runner run-once orchestration","description":"Implement core run-once orchestration in Go that matches beads_yolo_runner.py.\n\nFiles:\n- Create: internal/runner/runner.go\n- Create: internal/runner/runner_test.go\n- Modify: cmd/yolo-runner/main.go\n\nDependencies:\n- Uses internal/beads, internal/opencode, internal/vcs/git, internal/prompt, internal/logging via interfaces\n\nRules:\n- This task must be implemented in Go\n- Agent name fixed to yolo\n\nAcceptance:\n- No tasks -\u003e returns no_tasks\n- Dry-run prints selected task + prompt + computed opencode command and makes no mutations\n- If opencode yields no git changes -\u003e updates bead to blocked and logs blocked\n- If changes -\u003e commit, close bead, verify closed, bd sync\n- go test ./... passes","acceptance_criteria":"- Given no tasks available, when RunOnce is called, then it returns no_tasks\n- Given dry-run is true, when RunOnce is called, then it prints task + prompt + computed opencode command and makes no mutations\n- Given opencode yields no git changes, when RunOnce completes, then it updates bead to blocked and writes a blocked event\n- Given opencode yields changes, when RunOnce completes, then it commits with message `feat: \u003clower(title)\u003e` (fallback `feat: complete bead task`), closes bead, verifies status==closed, and runs bd sync\n- Given unit tests, when run, then they assert command ordering and state transitions using fakes","status":"closed","priority":1,"issue_type":"task","owner":"g.evstratov@gmail.com","created_at":"2026-01-18T21:46:41.229348+03:00","created_by":"Gennady Evstratov","updated_at":"2026-01-19T03:50:55.718337+03:00","closed_at":"2026-01-19T03:50:55.718337+03:00","close_reason":"Closed","dependencies":[{"issue_id":"yolo-runner-r5w.7","depends_on_id":"yolo-runner-r5w.3","type":"blocks","created_at":"2026-01-18T21:50:16.515494+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-r5w.7","depends_on_id":"yolo-runner-r5w.4","type":"blocks","created_at":"2026-01-18T21:50:16.579487+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-r5w.7","depends_on_id":"yolo-runner-r5w.5","type":"blocks","created_at":"2026-01-18T21:50:16.642381+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-r5w.7","depends_on_id":"yolo-runner-r5w.6","type":"blocks","created_at":"2026-01-18T21:50:16.705449+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-r5w.7","depends_on_id":"yolo-runner-r5w.9","type":"blocks","created_at":"2026-01-18T21:50:16.768344+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-r5w.7","depends_on_id":"yolo-runner-r5w.13","type":"blocks","created_at":"2026-01-18T21:50:16.832125+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-r5w.7","depends_on_id":"yolo-runner-r5w.1","type":"blocks","created_at":"2026-01-18T21:50:20.161054+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-r5w.7","depends_on_id":"yolo-runner-r5w.2","type":"blocks","created_at":"2026-01-18T21:50:20.223986+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-r5w.7","depends_on_id":"yolo-runner-r5w.16","type":"parent-child","created_at":"2026-01-18T21:53:48.192458+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-r5w.7","depends_on_id":"yolo-runner-r5w","type":"parent-child","created_at":"2026-01-18T23:30:38.920204+03:00","created_by":"Gennady Evstratov"}]}
{"id":"yolo-runner-r5w.8","title":"v1: Runner loop + --max","description":"Implement runner loop and --max behavior in Go.\n\nFiles:\n- Modify: internal/runner/runner.go\n- Create: internal/runner/loop_test.go\n\nRules:\n- This task must be implemented in Go\n\nAcceptance:\n- max=N stops after N completions\n- no_tasks stops loop\n- go test ./... passes","acceptance_criteria":"- Given max is set to N, when RunLoop runs and tasks keep completing, then it stops after N completions\n- Given RunOnce returns no_tasks, when RunLoop runs, then it stops and returns count\n- Given unit tests, when run, then they cover both max-stop and no_tasks-stop behavior","status":"closed","priority":2,"issue_type":"task","owner":"g.evstratov@gmail.com","created_at":"2026-01-18T21:46:43.668297+03:00","created_by":"Gennady Evstratov","updated_at":"2026-01-19T03:53:31.282421+03:00","closed_at":"2026-01-19T03:53:31.282421+03:00","close_reason":"Closed","dependencies":[{"issue_id":"yolo-runner-r5w.8","depends_on_id":"yolo-runner-r5w.7","type":"blocks","created_at":"2026-01-18T21:50:16.896847+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-r5w.8","depends_on_id":"yolo-runner-r5w.17","type":"parent-child","created_at":"2026-01-18T21:53:48.252768+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-r5w.8","depends_on_id":"yolo-runner-r5w","type":"parent-child","created_at":"2026-01-18T23:30:38.98582+03:00","created_by":"Gennady Evstratov"}]}
{"id":"yolo-runner-r5w.9","title":"v1: Logging parity (runner + per-task)","description":"Implement runner logging helpers in Go. This must be Go code.\n\nFiles:\n- Create: internal/logging/jsonl.go\n- Create: internal/logging/jsonl_test.go\n\nRules:\n- Do not add any new Python files\n\nAcceptance:\n- Append to runner-logs/beads_yolo_runner.jsonl with fields timestamp, issue_id, title, status, commit_sha\n- Timestamp is UTC in format 2006-01-02T15:04:05Z\n- commit_sha defaults to HEAD\n- go test ./... passes","acceptance_criteria":"- Given a completed run, when logging, then runner summary appends an entry with timestamp, issue_id, title, status, commit_sha\n- Given blocked run, when logging, then summary entry uses status=blocked and includes commit_sha from HEAD\n- Given per-task log path, when running opencode, then stdout goes to `runner-logs/opencode/\u003cissue\u003e.jsonl`\n- Given unit tests, when run, then they validate JSONL formatting and file creation","status":"closed","priority":2,"issue_type":"task","owner":"g.evstratov@gmail.com","created_at":"2026-01-18T21:46:46.982388+03:00","created_by":"Gennady Evstratov","updated_at":"2026-01-19T03:31:06.873473+03:00","closed_at":"2026-01-19T03:31:06.873473+03:00","close_reason":"Closed","dependencies":[{"issue_id":"yolo-runner-r5w.9","depends_on_id":"yolo-runner-r5w.12","type":"blocks","created_at":"2026-01-18T21:50:17.147058+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-r5w.9","depends_on_id":"yolo-runner-r5w.17","type":"parent-child","created_at":"2026-01-18T21:53:48.312241+03:00","created_by":"Gennady Evstratov"},{"issue_id":"yolo-runner-r5w.9","depends_on_id":"yolo-runner-r5w","type":"parent-child","created_at":"2026-01-18T23:30:39.052604+03:00","created_by":"Gennady Evstratov"}]}
